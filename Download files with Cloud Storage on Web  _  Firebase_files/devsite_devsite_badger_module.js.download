(function(_ds){var window=this;'use strict';var iO=function(){_ds.UB.apply(this,arguments);this.o=null},jO=function(a){return _ds.Q(a,function c(){var d=this,e;return _ds.D(c,function(g){if(1==g.h)return _ds.x(g,_ds.WB(d),2);if(3!=g.h)return d.o?g.return(d.o):_ds.x(g,d.Va(),3);e=g.j;d.o=new _ds.dA(e);return g.return(d.o)})})},kO=function(a){var b=a.hb;a=_ds.S;var c=b[0].imageUrl,d=b[0].url,e=b[0].servePath,g=b[0].nextPlaylistUrl,h=b[0].redeemAnotherBtn,k=b[0].hideButtons,l=b[0].shareTitle,m=b[0].shareDescription;b=(0,_ds.S)('<div class="devsite-badger-award"><div class="devsite-badger-award-inner"><devsite-badge-awarded badge-name="'+
_ds.X(b[0].title)+'" badge-icon-url="'+_ds.X(_ds.Mj(c))+'" badge-url="'+_ds.X(_ds.Mj(d))+'"'+(e?' badge-path="'+_ds.X(e)+'"':"")+(l?' badge-share-title="'+_ds.X(l)+'"':"")+(m?' badge-share-description="'+_ds.X(m)+'"':"")+(g?' next-playlist-url="'+_ds.X(_ds.Mj(g))+'"':"")+(h?" redeem-another":"")+(k?" hide-buttons":"")+" dismiss></devsite-badge-awarded></div></div>");return a(b)},mO=function(){var a=_ds.vE.call(this,["devsite-badge-awarded"])||this;a.eventHandler=new _ds.Al(a);a.j=new _ds.Ll;a.Fa=
null;a.hb=[];a.m=new _ds.En(function(){return void lO(a)},250);return a},nO=function(a){null===a||void 0===a?void 0:a.setAttribute("show","")},oO=function(a){return _ds.Q(a,function c(){var d=this;return _ds.D(c,function(e){if(1==e.h){if(!d.Fa)return e.return();d.j.remove("temp_badge");d.Fa.removeAttribute("show");return _ds.x(e,_ds.Bm(200),2)}if(3!=e.h)return _ds.Ek(d.Fa),d.Fa=null,_ds.x(e,_ds.Bm(250),3);d.m.xa();_ds.z(e)})})},lO=function(a){return _ds.Q(a,function c(){var d=this,e,g,h,k;return _ds.D(c,
function(l){switch(l.h){case 1:e=d;if(d.Fa||0===d.hb.length||"error"===document.body.getAttribute("type")||pO.exec(document.location.pathname))return l.return();_ds.A(l,2);return _ds.x(l,window.customElements.whenDefined("devsite-badge-awarded"),4);case 4:_ds.B(l,3);break;case 2:_ds.C(l);case 3:g=d.hb.splice(0,1);h=_ds.pl(kO,{hb:g});if(!h)return l.return();d.eventHandler.listen(h,"click",function(m){(m=m.target)&&m.matches("button.dismiss")&&oO(e)});d.Fa=h;(k=h.querySelector("devsite-badge-awarded"))?
(_ds.El(d.eventHandler,k,"running",function(){nO(e.Fa)}),document.body.appendChild(d.Fa)):(document.body.appendChild(d.Fa),nO(d.Fa));_ds.z(l)}})})},qO=function(a){a.eventHandler.listen(document.body,"devsite-before-page-change",function(){return void oO(a)});a.eventHandler.listen(document.body,"devsite-award-granted",function(b){(b=b.ma)&&b.detail&&(a.hb.push(b.detail.award),a.m.xa())});a.eventHandler.listen(document.body,["devsite-page-loaded","devsite-page-changed"],function(){a.Xc();a:if(_ds.Kl(a.j)){var b=
a.j.get("temp_badge");if(b){var c=null;try{c=JSON.parse(b)}catch(e){a.j.remove("temp_badge");break a}if(c)if(3>c.displayCount){a.j.set("temp_badge",JSON.stringify(c));b=new URL(c.awardedBy,document.location.origin);var d=_ds.fm();if(!c.awardedBy||b.origin===d.origin&&b.pathname===d.pathname)a.hb.push(c),a.m.xa()}else a.j.remove("temp_badge")}}})};_ds.v(iO,_ds.UB);_ds.f=iO.prototype;
_ds.f.Yb=function(){return _ds.Q(this,function b(){var c=this,d;return _ds.D(b,function(e){if(1==e.h)return _ds.x(e,jO(c),2);d=e.j;return e.return(d.Yb())})})};
_ds.f.Pc=function(a){a=void 0===a?!1:a;return _ds.Q(this,function c(){var d=this,e,g,h,k,l;return _ds.D(c,function(m){switch(m.h){case 1:return _ds.x(m,jO(d),2);case 2:return e=m.j,g=_ds.cC(d,"getWalletId",a),h=_ds.dC(d,g),h||(h=e.Pc(a),_ds.fC(d,g,h)),k=null,_ds.A(m,3,4),_ds.x(m,h,6);case 6:k=m.j;case 4:_ds.Ma(m);_ds.eC(d,g);_ds.Na(m,5);break;case 3:throw l=_ds.C(m),l;case 5:return m.return(k)}})})};
_ds.f.Bd=function(){return _ds.Q(this,function b(){var c=this,d;return _ds.D(b,function(e){if(1==e.h)return _ds.x(e,jO(c),2);d=e.j;return e.return(d.Bd())})})};_ds.f.Xc=function(){return _ds.Q(this,function b(){var c=this,d,e,g,h;return _ds.D(b,function(k){switch(k.h){case 1:return _ds.x(k,jO(c),2);case 2:return d=k.j,e=_ds.cC(c,"syncWallet"),g=_ds.dC(c,e),g||(g=d.Xc(),_ds.fC(c,e,g)),_ds.A(k,3,4),_ds.x(k,g,4);case 4:_ds.Ma(k);_ds.eC(c,e);_ds.Na(k,0);break;case 3:throw h=_ds.C(k),h;}})})};
_ds.f.ud=function(){return _ds.Q(this,function b(){var c=this,d;return _ds.D(b,function(e){if(1==e.h)return _ds.x(e,jO(c),2);d=e.j;d.ud();_ds.z(e)})})};var pO=/\/redeem.*|\/u[\/]?.*|\/settings[\/]?.*?/;_ds.v(mO,_ds.vE);mO.prototype.connectedCallback=function(){qO(this)};mO.prototype.disconnectedCallback=function(){_ds.Gl(this.eventHandler);oO(this)};
mO.prototype.Xc=function(){return _ds.Q(this,function b(){var c,d,e,g,h;return _ds.D(b,function(k){switch(k.h){case 1:return _ds.x(k,DevsiteApp.whenReady(),2);case 2:return _ds.x(k,window.customElements.whenDefined("devsite-user"),3);case 3:c=document.querySelector("devsite-user#devsite-user");if(!c)return k.return();d=!1;_ds.A(k,4);return _ds.x(k,c.isSignedIn(),6);case 6:d=k.j;_ds.B(k,5);break;case 4:_ds.C(k);case 5:if(!d)return k.return();e=new iO;return _ds.x(k,e.Yb(),7);case 7:g=k.j;if(!g)return k.return();
h=new _ds.oC;_ds.A(k,8);return _ds.x(k,h.ya(),10);case 10:_ds.B(k,0);break;case 8:_ds.C(k),_ds.z(k)}})})};try{window.customElements.define("devsite-badger",mO)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteBadger",a)};})(_ds_www);
